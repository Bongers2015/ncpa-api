{
	"basePath": "/api/tnm/v1",
	"consumes": [
		"application/json"
	],
	"definitions": {
		"GridCurrents": {
			"properties": {},
			"type": "object",
			"additionalProperties": false
		},
		"Card": {
			"properties": {
				"token": {
					"type": "string",
					"description": "RFID"
				},
				"status": {
					"type": "string",
					"enum": [
						"ACCEPTED",
						"BLOCKED",
						"EXPIRED",
						"INVALID",
						"UNKNOWN"
					]
				},
				"expirationDate": {
					"type": "string",
					"x-nullable": true
				}
			},
			"required": [
				"token",
				"status"
			],
			"type": "object",
			"additionalProperties": false
		},
		"CardRegistration": {
			"properties": {
				"card": {
					"$ref": "#/definitions/Card",
					"x-nullable": true
				},
				"status": {
					"type": "string",
					"enum": [
						"SUCCESS",
						"FAILURE",
						"TIMEOUT"
					]
				},
				"statusMessage": {
					"type": "string"
				}
			},
			"required": [
				"status",
				"statusMessage"
			],
			"type": "object",
			"additionalProperties": false
		},
		"DeviceInfo": {
			"properties": {},
			"type": "object",
			"additionalProperties": false
		},
		"Status": {
			"properties": {
				"chargePointStatus": {
					"type": "string",
					"enum": [
						"OPERATIVE",
						"INOPERATIVE",
						"FAULTED"
					]
				},
				"transactionStatus": {
					"items": {
						"type": "string",
						"enum": [
							"AVAILABLE",
							"PREPARING",
							"CHARGING",
							"SUSPENDED_EV",
							"SUSPENDED_EVSE",
							"FINISHING",
							"FAULTED"
						]
					},
					"type": "array"
				},
				"connectorStatus": {
					"items": {
						"type": "string",
						"enum": [
							"OPERATIVE",
							"INOPERATIVE",
							"FAULTED"
						]
					},
					"type": "array"
				},
				"authorizationMode": {
					"type": "string",
					"enum": [
						"PLUGNCHARGE",
						"WHITELIST"
					]
				},
				"numberOfRFIDCardsRegistered": {
					"type": "integer",
					"format": "int64"
				}
			},
			"required": [
				"chargePointStatus",
				"transactionStatus",
				"connectorStatus",
				"authorizationMode",
				"numberOfRFIDCardsRegistered"
			],
			"type": "object",
			"additionalProperties": false
		},
		"InstallationUsage": {
			"properties": {},
			"type": "object",
			"additionalProperties": false
		},
		"InstallerStatus": {
			"properties": {
				"socketLockMode": {
					"type": "string",
					"enum": [
						"TRANSACTION",
						"LOCKED",
						"UNLOCKED"
					]
				},
				"gridMaxCurrent": {
					"type": "number",
					"format": "double"
				},
				"loadSheddingModule": {
					"type": "string",
					"enum": [
						"CONNECTED",
						"NOT_CONNECTED"
					]
				},
				"chargeStationMaxCurrent": {
					"type": "number",
					"format": "double"
				},
				"onOffPeak": {
					"type": "string",
					"enum": [
						"ON_PEAK",
						"OFF_PEAK",
						"TRANSACTION_PEAK"
					]
				},
				"installationUsage": {
					"$ref": "#/definitions/InstallationUsage"
				},
				"gridCurrents": {
					"$ref": "#/definitions/GridCurrents"
				}
			},
			"required": [
				"socketLockMode",
				"gridMaxCurrent",
				"loadSheddingModule",
				"chargeStationMaxCurrent",
				"onOffPeak",
				"installationUsage",
				"gridCurrents"
			],
			"type": "object",
			"additionalProperties": false
		},
		"Transaction": {
			"properties": {
				"id": {
					"type": "string"
				},
				"remoteId": {
					"type": "string",
					"x-nullable": true
				},
				"token": {
					"type": "string",
					"description": "card token id"
				},
				"startDate": {
					"type": "integer",
					"format": "int64"
				},
				"stopDate": {
					"type": "integer",
					"format": "int64",
					"x-nullable": true
				},
				"stopReason": {
					"type": "string",
					"x-nullable": true
				},
				"startWattHour": {
					"type": "integer",
					"format": "int64"
				},
				"stopWattHour": {
					"type": "integer",
					"format": "int64",
					"x-nullable": true
				},
				"consumedWattHours": {
					"type": "integer",
					"format": "int64"
				}
			},
			"required": [
				"id",
				"token",
				"startDate",
				"startWattHour",
				"consumedWattHours"
			],
			"type": "object",
			"additionalProperties": false
		},
		"ChargingScheduleSection": {
			"properties": {
				"time": {
					"type": "number",
					"format": "double"
				},
				"limit": {
					"type": "number",
					"format": "double"
				}
			},
			"required": [
				"time",
				"limit"
			],
			"type": "object",
			"additionalProperties": false
		},
		"ChargingSchedule": {
			"properties": {
				"recurring": {
					"type": "string",
					"enum": [
						"weekly",
						"daily",
						"none"
					]
				},
				"sections": {
					"items": {
						"$ref": "#/definitions/ChargingScheduleSection"
					},
					"type": "array"
				}
			},
			"required": [
				"recurring",
				"sections"
			],
			"type": "object",
			"additionalProperties": false
		},
		"Upgrade": {
			"properties": {
				"originalname": {
					"type": "string",
					"description": "Name of the file on the user's computer"
				},
				"encoding": {
					"type": "string",
					"description": "Encoding type of the file"
				},
				"mimetype": {
					"type": "string",
					"description": "Mime type of the file"
				},
				"size": {
					"type": "number",
					"format": "double"
				},
				"destination": {
					"type": "string",
					"description": "The folder to which the file has been saved (DiskStorage)"
				},
				"location": {
					"type": "string",
					"description": "The url where to get the uploaded file (aws S3 for example)"
				},
				"filename": {
					"type": "string",
					"description": "The name of the file within the destination (DiskStorage)"
				},
				"path": {
					"type": "string",
					"description": "Location of the uploaded file (DiskStorage)"
				}
			},
			"required": [
				"originalname",
				"encoding",
				"mimetype",
				"size",
				"destination",
				"location",
				"filename",
				"path"
			],
			"type": "object",
			"additionalProperties": false
		},
		"CreateCardRequest": {
			"properties": {
				"token": {
					"type": "string"
				}
			},
			"required": [
				"token"
			],
			"type": "object",
			"additionalProperties": false
		},
		"GetAuthQrResponse": {
			"properties": {
				"host": {
					"type": "string",
					"description": "{protocol}://{host}:{port}/{path}"
				},
				"qrDataUrl": {
					"type": "string",
					"description": "QR bitmap encoded as data url"
				},
				"requestUrl": {
					"type": "string",
					"description": "authorization request url"
				},
				"encryptedToken": {
					"type": "string",
					"description": "url encoded encrypted jwt token"
				}
			},
			"required": [
				"host",
				"qrDataUrl",
				"requestUrl",
				"encryptedToken"
			],
			"type": "object",
			"additionalProperties": false
		},
		"GetAuthQrResponse2Roles": {
			"properties": {},
			"type": "object",
			"additionalProperties": false
		},
		"GetAuthQrResponse2": {
			"properties": {
				"host": {
					"type": "string",
					"description": "{protocol}://{host}:{port}/{path}"
				},
				"ssid": {
					"type": "string"
				},
				"psk": {
					"type": "string"
				},
				"roles": {
					"$ref": "#/definitions/GetAuthQrResponse2Roles"
				},
				"pubCert": {
					"type": "string"
				},
				"privCert": {
					"type": "string"
				}
			},
			"required": [
				"host",
				"ssid",
				"psk",
				"roles",
				"pubCert",
				"privCert"
			],
			"type": "object",
			"additionalProperties": false
		}
	},
	"info": {
		"title": "ncpa-api",
		"version": "1.0.0",
		"description": "Reference API for NCPA",
		"license": {
			"name": "UNLICENSED"
		}
	},
	"paths": {
		"/auth": {
			"get": {
				"operationId": "ValidateAuthToken",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"properties": {
								"accessToken": {
									"type": "string"
								}
							},
							"required": [
								"accessToken"
							],
							"type": "object"
						}
					}
				},
				"description": "expects token as url encoded ciphered jwt token like so:\n```js\nconst payload =\n{\n\"iss\": \"TNM Auth server\",\n\"sub\": \"{cp-uuid}\",\n\"aud\": \"operator\" | \"installer\",\n\"iat\": {unix time}},\n\"wifi\": {\n\"ssid\": \"my-ssid\",\n\"password\": \"strong-wifi-password\",\n\"type\": \"wpa2\",\n\"hidden\": true\n};\n\nconst jwtToken = jwt.sign(payload, privateKey, {\nalgorithm: 'RS256'\n});\n\nconst token = encodeURIComponent(encrypt(jwtToken));\n\n\n```\nreturns an access token and its accompanying public key for signature validation\n\n```json\n{\naccessToken: \"eyJhbGciOiJSUzI1NiI...\",\npublicKey: \"-----BEGIN CERTIFI...\"\n}\n```",
				"tags": [
					"public"
				],
				"security": [],
				"parameters": [
					{
						"in": "query",
						"name": "token",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": false,
						"type": "string"
					}
				]
			}
		},
		"/authentication-mode": {
			"get": {
				"operationId": "GetAuthenticationMode",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"PLUGNCHARGE",
								"WHITELIST"
							]
						}
					}
				},
				"description": "jwt scopes: `operator`, `installer`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetAuthenticationMode",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"PLUGNCHARGE",
								"WHITELIST"
							]
						}
					}
				},
				"description": "jwt scopes: `operator`, `installer`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "authenticationMode",
						"required": true,
						"type": "string",
						"enum": [
							"PLUGNCHARGE",
							"WHITELIST"
						]
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/config/socket-lock-mode": {
			"get": {
				"operationId": "GetSocketLockMode",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"TRANSACTION",
								"LOCKED",
								"UNLOCKED"
							]
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetSocketLockMode",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"TRANSACTION",
								"LOCKED",
								"UNLOCKED"
							]
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "socketLockMode",
						"required": true,
						"type": "string",
						"enum": [
							"TRANSACTION",
							"LOCKED",
							"UNLOCKED"
						]
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/config/grid-max-current": {
			"get": {
				"operationId": "GetGridMaxCurrent",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "number",
							"format": "double"
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetGridMaxCurrent",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "number",
							"format": "double"
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "maxCurrent",
						"required": true,
						"format": "double",
						"type": "number"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/config/load-shedding": {
			"get": {
				"operationId": "GetLoadShedding",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"NO",
								"P1",
								"XEMEX_BLACK",
								"XEMEX_9600"
							]
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetLoadShedding",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"NO",
								"P1",
								"XEMEX_BLACK",
								"XEMEX_9600"
							]
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "loadShedding",
						"required": true,
						"type": "string",
						"enum": [
							"NO",
							"P1",
							"XEMEX_BLACK",
							"XEMEX_9600"
						]
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/config/charge-station-max-current": {
			"get": {
				"operationId": "GetChargeStationMaxCurrent",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "number",
							"format": "double"
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetChargeStationMaxCurrent",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "number",
							"format": "double"
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "chargeStationMaxCurrent",
						"required": true,
						"format": "double",
						"type": "number"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/config/on-off-peak": {
			"get": {
				"operationId": "GetOnOffPeak",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"ON_PEAK",
								"OFF_PEAK",
								"TRANSACTION_PEAK"
							]
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetOnOffPeak",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "string",
							"enum": [
								"ON_PEAK",
								"OFF_PEAK",
								"TRANSACTION_PEAK"
							]
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "onOffPeak",
						"required": true,
						"type": "string",
						"enum": [
							"ON_PEAK",
							"OFF_PEAK",
							"TRANSACTION_PEAK"
						]
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/config/grid-currents": {
			"get": {
				"operationId": "GetGridCurrents",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/GridCurrents"
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetGridCurrents",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/GridCurrents"
						}
					}
				},
				"description": "jwt scopes: `installer` \n\nmin 1 item, max 3",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "gridCurrents",
						"required": true,
						"type": "array",
						"items": {
							"type": "number"
						},
						"minItems": 1,
						"maxItems": 3
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/config/reboot": {
			"post": {
				"operationId": "Reboot",
				"produces": [
					"application/json"
				],
				"responses": {
					"204": {
						"description": "No content"
					}
				},
				"description": "jwt scopes: `installer` \n\nReboots CP",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/tests/shunt/activate": {
			"post": {
				"operationId": "SetActivateShunt",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "boolean"
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/whitelist/cards": {
			"get": {
				"operationId": "GetCards",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"items": {
								"$ref": "#/definitions/Card"
							},
							"type": "array"
						}
					}
				},
				"description": "jwt scopes: `operator`, `installer`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/whitelist/cards/{token}": {
			"get": {
				"operationId": "GetCard",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/Card"
						}
					}
				},
				"description": "jwt scopes: `operator`, `installer`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "token",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"delete": {
				"operationId": "DeleteCard",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/Card"
						}
					}
				},
				"description": "jwt scopes: `operator`, `installer`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "token",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/whitelist/card": {
			"get": {
				"operationId": "RegisterCard",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/CardRegistration"
						}
					}
				},
				"description": "jwt scopes: `operator`, `installer`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/device-info": {
			"get": {
				"operationId": "GetDeviceInfo",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/DeviceInfo"
						}
					}
				},
				"description": "jwt scopes: `operator`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/status": {
			"get": {
				"operationId": "GetChargePointStatus",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/Status"
						}
					}
				},
				"description": "jwt scopes: `operator`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/installer-status": {
			"get": {
				"operationId": "GetInstallerStatus",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/InstallerStatus"
						}
					}
				},
				"description": "jwt scopes: `installer`",
				"tags": [
					"installer"
				],
				"security": [
					{
						"jwtAuth": [
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/charging/start": {
			"post": {
				"operationId": "StartCharging",
				"produces": [
					"application/json"
				],
				"responses": {
					"204": {
						"description": "No content"
					}
				},
				"description": "jwt scopes: `operator` `",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "tag",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/charging/stop": {
			"post": {
				"operationId": "StopCharging",
				"produces": [
					"application/json"
				],
				"responses": {
					"204": {
						"description": "No content"
					}
				},
				"description": "jwt scopes: `operator`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "tag",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/charging/unlock": {
			"post": {
				"operationId": "Unlock",
				"produces": [
					"application/json"
				],
				"responses": {
					"204": {
						"description": "No content"
					}
				},
				"description": "jwt scopes: `operator`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/transactions": {
			"get": {
				"operationId": "GetTransactions",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"items": {
								"$ref": "#/definitions/Transaction"
							},
							"type": "array"
						}
					}
				},
				"description": "jwt scopes: `operator`, `installer`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/schedules/chargepoint": {
			"get": {
				"operationId": "GetSchedule",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/ChargingSchedule"
						}
					}
				},
				"description": "jwt scopes: `operator` `",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			},
			"post": {
				"operationId": "SetSchedule",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/ChargingSchedule"
						}
					}
				},
				"description": "jwt scopes: `operator` `",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "body",
						"name": "chargingSchedule",
						"required": true,
						"schema": {
							"$ref": "#/definitions/ChargingSchedule"
						}
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				]
			}
		},
		"/upgrade": {
			"post": {
				"operationId": "Upgrade",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"$ref": "#/definitions/Upgrade"
						}
					}
				},
				"description": "jwt scopes: `operator`",
				"tags": [
					"operator"
				],
				"security": [
					{
						"jwtAuth": [
							"operator",
							"installer"
						]
					}
				],
				"parameters": [
					{
						"in": "formData",
						"name": "data",
						"required": true,
						"type": "file"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					}
				],
				"consumes": [
					"multipart/form-data"
				]
			}
		},
		"/development/whitelist/cards": {
			"post": {
				"operationId": "AddCard",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Ok",
						"schema": {
							"type": "boolean"
						}
					}
				},
				"description": "jwt scopes: `developer`\n\nDeveloper endpoint for whitelisting card manually",
				"tags": [
					"developer"
				],
				"security": [
					{
						"jwtAuth": []
					}
				],
				"parameters": [
					{
						"in": "body",
						"name": "createCardRequest",
						"required": true,
						"schema": {
							"$ref": "#/definitions/CreateCardRequest"
						}
					}
				]
			}
		},
		"/development/card/registration-response": {
			"post": {
				"operationId": "UpdateCardRegistrationResponse",
				"produces": [
					"application/json"
				],
				"responses": {
					"204": {
						"description": "No content"
					}
				},
				"description": "jwt scopes: `developer`\n\nSet the response of the `/card` endpoint request",
				"tags": [
					"developer"
				],
				"security": [
					{
						"jwtAuth": []
					}
				],
				"parameters": [
					{
						"in": "body",
						"name": "cardRegistrationResponse",
						"required": true,
						"schema": {
							"$ref": "#/definitions/CardRegistration"
						}
					}
				]
			}
		},
		"/development/qr/{host}": {
			"get": {
				"operationId": "GetAuthQr",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Returns GetAuthQrResponse",
						"schema": {
							"$ref": "#/definitions/GetAuthQrResponse"
						},
						"examples": {
							"application/json": {
								"host": "https://localhost:3000/api/tnm/freeapp/v1",
								"requestUrl": "https://localhost:3000/api/tnm/freeapp/v1/auth?token=U2FsdGVkX19UjqHxvsfJ%2BSvaean7RNS40GIBGdRGsNOT%2BW7lMzLKoz1A%2BPNumYC%2Fr6wXOyXRgz2p1P0CWSwH0p2NOXywE%2FcxRAbqnt0oLUf8KC5PL1%2FlBWjPwUwYNqvFJUTK82bbXO2Vf9VFzaUw12oUT1eTPoPgcuOcFzF8x%2FdptaCB1AtPp5uDd6LAqFRG51QlIwRDtxahDK95Fj%2FdC9ccnX1Rf3WQeleoBqvrbstWSzZpFiQRk%2BzWzbA36RWRtwiKj%2B%2BJlBUcPDrPIgeifkjL6tBKvdFW1KB0dTqicty%2BUC12BI50FeBtbK1e%2FTofzq%2FOT0FGBGnVk3F0w82wtYtgbtW%2F3kJoGqiuIfHH02%2BA2AwR%2BSgYzME12%2FX0DLVX5i58K3nB13TI5jNYoV6TqQvTeiP6irqukMqpyWcCP1FeXTD72SQvtRqEbNwjTfKSAgCoF%2B%2BA0g%2F800mLGjSBOk5jcZLxsn3PyALzHDVkEaQxShj3wLH1uQcBX630caSH%2Fm6WNQd4X8a2cY06QQk65JJ8ky7BtFq9BaLKmxjVRle%2FHBZlc4ipi3gYv2iczhLvzXxkBUNH6R%2F1%2FWIc9GUhOHPWMtmQE7QmHI0KQq%2B%2FeQRTVMjoA4Va6d91b4epGszQViKdyRInT47a8cRHMqJSBC%2FJ2wMOURluRy%2BXSQMPsfwncOPie2swMMWLrfPSEtAKmYs4asTdu%2FusX9v9FryyztmGosnAZzgL7wgUjrGVIOjvX3DN33%2F4KIE4Tl5C3JrdfdLf4ZhlGTo0ElDdP%2BUsCx%2B1eoytP54Nj%2BOHs8ccTR0%3D",
								"qrDataUrl": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdQAAAHUCAYAAACDJ9lsAAAbZElEQVR4AezBQY4cupLAQLLQ978yx8tcCRBUbb8/yAj7g7XWWms9+bDWWmutZx/WWmut9ezDWmuttZ59WGuttdazD2uttdZ69mGttdZazz6stdZa69mHtdZaaz37sNZaa61nH9Zaa6317MNaa621nn1Ya6211rMPa6211nr2Ya211lrPPqy11lrr2Q+PVP6mihsqJxUnKlPFpHKj4obKVDGp3Kg4UTmpOFGZKiaVqWJSmSomlaniN6l8U8WkMlVMKlPFicpUMancqJhUpooTlaniROVFxaQyVdxQmSpuqEwVL1ReVEwqJxU3VKaKE5WpYlL5mypefFhrrbXWsw9rrbXWevZhrbXWWs9++LKKb1K5oTJVnKhMFVPFjYobKlPFicqNihOVqeKGylTxmyomlRcVJxWTylQxqUwVk8qJyouKk4oTlZOKSWWqOFGZKqaKE5Wp4qRiUvkmlaliqphUpopJZar4JpUXKlPFVDGpTBUvKr5J5Zs+rLXWWuvZh7XWWms9+7DWWmutZz/8MpUbFTdUvknlpGKquKEyVbyouKEyVdxQOVE5qbihMlVMFTdUbqicqNyouKEyqUwVk8pUMal8U8WkMlVMKicqU8WJyouKGypTxYnKicqLit+kcqIyVZyofJPKjYrf9GGttdZazz6stdZa69mHtdZaaz374f+ZihOVGxUnKjcqblR8U8WkclIxVUwqU8Wk8k0qLypuVJyoTBUvVE4qJpX/MpWp4m+qmFQmlaliUjlROamYVG6oTBWTylRxovKi4kTlRsX/Jx/WWmut9ezDWmuttZ59WGuttdazH9aRyknFDZWp4obKScWkMlXcUHlR8TdVTConKlPFpDJVTBU3VF6o3FB5oXKj4kTlpOKk4kRlUrmh8k0qJxWTyonKVHGj4kRlqjhRmSomlROVqeJ/2Ye11lprPfuw1lprrWcf1lprrfXsh19W8Tep3KiYVL5J5X9JxQ2VE5WpYlL5JpUTlROVqeJE5aTiRsUNlZOKSWWqeKEyqZxU/E0VJypTxQ2VqeKGyknFicqNikllqnihMlVMKlPFi4r/kg9rrbXWevZhrbXWWs8+rLXWWuvZD1...",
								"encryptedToken": "U2FsdGVkX19UjqHxvsfJ%2BSvaean7RNS40GIBGdRGsNOT%2BW7lMzLKoz1A%2BPNumYC%2Fr6wXOyXRgz2p1P0CWSwH0p2NOXywE%2FcxRAbqnt0oLUf8KC5PL1%2FlBWjPwUwYNqvFJUTK82bbXO2Vf9VFzaUw12oUT1eTPoPgcuOcFzF8x%2FdptaCB1AtPp5uDd6LAqFRG51QlIwRDtxahDK95Fj%2FdC9ccnX1Rf3WQeleoBqvrbstWSzZpFiQRk%2BzWzbA36RWRtwiKj%2B%2BJlBUcPDrPIgeifkjL6tBKvdFW1KB0dTqicty%2BUC12BI50FeBtbK1e%2FTofzq%2FOT0FGBGnVk3F0w82wtYtgbtW%2F3kJoGqiuIfHH02%2BA2AwR%2BSgYzME12%2FX0DLVX5i58K3nB13TI5jNYoV6TqQvTeiP6irqukMqpyWcCP1FeXTD72SQvtRqEbNwjTfKSAgCoF%2B%2BA0g%2F800mLGjSBOk5jcZLxsn3PyALzHDVkEaQxShj3wLH1uQcBX630caSH%2Fm6WNQd4X8a2cY06QQk65JJ8ky7BtFq9BaLKmxjVRle%2FHBZlc4ipi3gYv2iczhLvzXxkBUNH6R%2F1%2FWIc9GUhOHPWMtmQE7QmHI0KQq%2B%2FeQRTVMjoA4Va6d91b4epGszQViKdyRInT47a8cRHMqJSBC%2FJ2wMOURluRy%2BXSQMPsfwncOPie2swMMWLrfPSEtAKmYs4asTdu%2FusX9v9FryyztmGosnAZzgL7wgUjrGVIOjvX3DN33%2F4KIE4Tl5C3JrdfdLf4ZhlGTo0ElDdP%2BUsCx%2B1eoytP54Nj%2BOHs8ccTR0%3D"
							}
						}
					}
				},
				"description": "jwt scopes: `developer` \n\nCreates a QR code containing an identity token\n\n\n```\n{\n\"iss\": \"TNM Auth server\",\n\"sub\": \"{cp-uuid}\",\n\"aud\": \"operator\" | \"installer\",\n\"iat\": 1516239022,\n\"wifi\": {\n\"ssid\": \"my-ssid\",\n\"password\": \"strong-wifi-password\",\n\"type\": \"wpa2\",\n\"hidden\": true\n}\n}\n```",
				"tags": [
					"developer"
				],
				"security": [],
				"parameters": [
					{
						"default": "http://asdasd",
						"in": "path",
						"name": "host",
						"required": true,
						"type": "string"
					},
					{
						"description": "valid chargePointId for this application would be `12345`",
						"in": "query",
						"name": "chargePointId",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "scope",
						"required": true,
						"type": "string",
						"enum": [
							"operator",
							"installer"
						]
					}
				]
			}
		},
		"/development/qr2/{host}": {
			"get": {
				"operationId": "GetAuthQr2",
				"produces": [
					"application/json"
				],
				"responses": {
					"200": {
						"description": "Returns GetAuthQrResponse2",
						"schema": {
							"$ref": "#/definitions/GetAuthQrResponse2"
						},
						"examples": {
							"application/json": {
								"host": "https://localhost:3000/api/tnm/freeapp/v1",
								"ssid": "chargepoint_15e2b0d3c3",
								"psk": "AB/KEb0b3pu3o+K/NB3vbw",
								"roles": {
									"operator": {
										"requestUrl": "https://localhost:3000/api/tnm/freeapp/v1/auth?token=U2FsdGVkX19UjqHxvsfJ%2BSvaean7RNS40GIBGdRGsNOT%2BW7lMzLKoz1A%2BPNumYC%2Fr6wXOyXRgz2p1P0CWSwH0p2NOXywE%2FcxRAbqnt0oLUf8KC5PL1%2FlBWjPwUwYNqvFJUTK82bbXO2Vf9VFzaUw12oUT1eTPoPgcuOcFzF8x%2FdptaCB1AtPp5uDd6LAqFRG51QlIwRDtxahDK95Fj%2FdC9ccnX1Rf3WQeleoBqvrbstWSzZpFiQRk%2BzWzbA36RWRtwiKj%2B%2BJlBUcPDrPIgeifkjL6tBKvdFW1KB0dTqicty%2BUC12BI50FeBtbK1e%2FTofzq%2FOT0FGBGnVk3F0w82wtYtgbtW%2F3kJoGqiuIfHH02%2BA2AwR%2BSgYzME12%2FX0DLVX5i58K3nB13TI5jNYoV6TqQvTeiP6irqukMqpyWcCP1FeXTD72SQvtRqEbNwjTfKSAgCoF%2B%2BA0g%2F800mLGjSBOk5jcZLxsn3PyALzHDVkEaQxShj3wLH1uQcBX630caSH%2Fm6WNQd4X8a2cY06QQk65JJ8ky7BtFq9BaLKmxjVRle%2FHBZlc4ipi3gYv2iczhLvzXxkBUNH6R%2F1%2FWIc9GUhOHPWMtmQE7QmHI0KQq%2B%2FeQRTVMjoA4Va6d91b4epGszQViKdyRInT47a8cRHMqJSBC%2FJ2wMOURluRy%2BXSQMPsfwncOPie2swMMWLrfPSEtAKmYs4asTdu%2FusX9v9FryyztmGosnAZzgL7wgUjrGVIOjvX3DN33%2F4KIE4Tl5C3JrdfdLf4ZhlGTo0ElDdP%2BUsCx%2B1eoytP54Nj%2BOHs8ccTR0%3D",
										"identityToken": "JWT token signed with the private cert below",
										"qrData": "Base64, encrypted data containing WiFi, installerToken, and cp meta data",
										"encodedEncryptedQRPayload": "encodedEncryptedQRPayload"
									},
									"installer": {
										"requestUrl": "https://localhost:3000/api/tnm/freeapp/v1/auth?token=U2FsdGVkX19UjqHxvsfJ%2BSvaean7RNS40GIBGdRGsNOT%2BW7lMzLKoz1A%2BPNumYC%2Fr6wXOyXRgz2p1P0CWSwH0p2NOXywE%2FcxRAbqnt0oLUf8KC5PL1%2FlBWjPwUwYNqvFJUTK82bbXO2Vf9VFzaUw12oUT1eTPoPgcuOcFzF8x%2FdptaCB1AtPp5uDd6LAqFRG51QlIwRDtxahDK95Fj%2FdC9ccnX1Rf3WQeleoBqvrbstWSzZpFiQRk%2BzWzbA36RWRtwiKj%2B%2BJlBUcPDrPIgeifkjL6tBKvdFW1KB0dTqicty%2BUC12BI50FeBtbK1e%2FTofzq%2FOT0FGBGnVk3F0w82wtYtgbtW%2F3kJoGqiuIfHH02%2BA2AwR%2BSgYzME12%2FX0DLVX5i58K3nB13TI5jNYoV6TqQvTeiP6irqukMqpyWcCP1FeXTD72SQvtRqEbNwjTfKSAgCoF%2B%2BA0g%2F800mLGjSBOk5jcZLxsn3PyALzHDVkEaQxShj3wLH1uQcBX630caSH%2Fm6WNQd4X8a2cY06QQk65JJ8ky7BtFq9BaLKmxjVRle%2FHBZlc4ipi3gYv2iczhLvzXxkBUNH6R%2F1%2FWIc9GUhOHPWMtmQE7QmHI0KQq%2B%2FeQRTVMjoA4Va6d91b4epGszQViKdyRInT47a8cRHMqJSBC%2FJ2wMOURluRy%2BXSQMPsfwncOPie2swMMWLrfPSEtAKmYs4asTdu%2FusX9v9FryyztmGosnAZzgL7wgUjrGVIOjvX3DN33%2F4KIE4Tl5C3JrdfdLf4ZhlGTo0ElDdP%2BUsCx%2B1eoytP54Nj%2BOHs8ccTR0%3D",
										"identityToken": "JWT token signed with the private cert below",
										"qrData": "Base64, encrypted data containing WiFi, installerToken, and cp meta data",
										"encodedEncryptedQRPayload": "encodedEncryptedQRPayload"
									}
								},
								"pubCert": "2048 public cert valid from 1970 January 01 until 2040 June 01",
								"privCert": "2048 public cert valid from 1970 January 01 until 2040 June 01"
							}
						}
					}
				},
				"tags": [
					"developer"
				],
				"security": [],
				"parameters": [
					{
						"in": "path",
						"name": "host",
						"required": true,
						"type": "string"
					},
					{
						"description": "valid chargePointId for this application would be `12345`",
						"in": "query",
						"name": "chargePointId",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "clientId",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "ssid",
						"required": true,
						"type": "string"
					},
					{
						"in": "query",
						"name": "psk",
						"required": true,
						"type": "string"
					}
				]
			}
		}
	},
	"produces": [
		"application/json"
	],
	"swagger": "2.0",
	"securityDefinitions": {
		"api_key": {
			"type": "apiKey",
			"name": "access_token",
			"in": "query"
		},
		"jwtAuth": {
			"type": "apiKey",
			"in": "header",
			"name": "authorization"
		}
	}
}